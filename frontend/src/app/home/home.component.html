<app-navmenu></app-navmenu>

<div class="w-100 d-flex justify-content-center">

    <div class="w-100 px-5 text-center">

        <div class="mt-4 mb-5">
            <div class="form-inline">
                
                <div class="form-group w-75">
                    <input type="text" class="form-control w-100 mr-3 shadow" [(ngModel)]="keyword" placeholder="Digite o interesse: Pets, Meditação, Lowcarb...">
                </div>
                
                <button class="btn btn-primary w-25" (click)="getDados()" [disabled]="buscando">
                    <!-- <img src="assets/search.svg" class="af-btn-icons" mr-1> -->
                    Buscar Públicos
                    <div class="spinner-border spinner-border-sm ml-1" role="status" *ngIf="buscando">
                        <span class="sr-only">Loading...</span>
                    </div>
                </button>

            </div>
        </div>

        <h5 class="text-left">Caixa de seleção</h5>
        <div class="shadow w-100 rounded border p-2">
            damskmkamdkl daklmlkas
        </div>

        <h5 class="mt-5 text-left" *ngIf="busca_realizada && lista.data.length">Explore {{ lista.data.length }} resultados relacionados a {{ keyword_exibicao }}</h5>

        <table class="table table-striped text-left mt-3" *ngIf="busca_realizada && lista.data.length">
            <thead>
                <tr>
                    <th scope="col">Interesse</th>
                    <th scope="col">Tamanho do público</th>
                    <th scope="col">Tópico</th>
                    <th scope="col">Buscar</th>
                </tr>
            </thead>

            <tbody>
                <tr *ngFor="let interesse of lista.data; index as i">
                    <td>{{ interesse.name }}</td>
                    <td>{{ interesse.audience_size | number }}</td>
                    <td>{{ interesse.topic || 'Sem categoria' }}</td>
                    <td>                        
                        <img src="assets/facebook.svg" height="20" class="af-icon-button mr-3">
                        <img src="assets/google.svg" height="20" class="af-icon-button mr-3">
                        <img src="assets/search.svg" height="20" class="af-icon-button">
                    </td>                    
                </tr>
            </tbody>
        </table>

        <div class="spinner-border spinner-border text-primary" role="status" *ngIf="buscando">
            <span class="sr-only">Loading...</span>
        </div>

        <div class="alert alert-warning mt-4" role="alert" *ngIf="!buscando && busca_realizada && !lista.data.length">
            A busca não encontrou resultados para esse interesse, tente informar outro.
        </div>

    </div>

</div>